{"ast":null,"code":"import axios from \"axios\";\nimport { REGISTER_API, LOGIN_API, PROFILE_API } from \"./config\";\naxios.interceptors.response.use(res => res, err => {\n  if (err.response) {\n    if (err.response.status === 401) {\n      localStorage.clear();\n      console.log(\"ggjkk\"); // window.location.href = \"login\";\n    }\n\n    return Promise.reject(err);\n  }\n});\n\nconst getToken = () => {\n  try {\n    var _localStorage;\n\n    const USER_SESSION = JSON.parse((_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.session);\n    return USER_SESSION === null || USER_SESSION === void 0 ? void 0 : USER_SESSION.access_token;\n  } catch (error) {\n    if (error) return \"\";\n  }\n};\n\naxios.defaults.headers.common[\"x-auth-token\"] = getToken();\nexport const REGISTER_SERVICE = data => axios({\n  method: \"POST\",\n  url: REGISTER_API,\n  headers: {\n    \"content-type\": \"application/json\"\n  },\n  data: data\n});\n_c = REGISTER_SERVICE;\nexport const LOGIN_SERVICE = data => axios({\n  method: \"POST\",\n  url: LOGIN_API,\n  headers: {\n    \"content-type\": \"application/json\"\n  },\n  data: data\n});\n_c2 = LOGIN_SERVICE;\nexport const PROFILE_SERVICE = data => axios({\n  method: \"POST\",\n  url: PROFILE_API,\n  headers: {\n    \"content-type\": \"application/json\"\n  },\n  data: data\n});\n_c3 = PROFILE_SERVICE;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"REGISTER_SERVICE\");\n$RefreshReg$(_c2, \"LOGIN_SERVICE\");\n$RefreshReg$(_c3, \"PROFILE_SERVICE\");","map":{"version":3,"sources":["/home/adityadev/Code/MERN/client/src/api/service.js"],"names":["axios","REGISTER_API","LOGIN_API","PROFILE_API","interceptors","response","use","res","err","status","localStorage","clear","console","log","Promise","reject","getToken","USER_SESSION","JSON","parse","session","access_token","error","defaults","headers","common","REGISTER_SERVICE","data","method","url","LOGIN_SERVICE","PROFILE_SERVICE"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,WAAlC,QAAqD,UAArD;AAEAH,KAAK,CAACI,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACGC,GAAD,IAASA,GADX,EAEGC,GAAD,IAAS;AACP,MAAIA,GAAG,CAACH,QAAR,EAAkB;AAChB,QAAIG,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAA5B,EAAiC;AAC/BC,MAAAA,YAAY,CAACC,KAAb;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAF+B,CAG/B;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAeP,GAAf,CAAP;AACD;AACF,CAXH;;AAcA,MAAMQ,QAAQ,GAAG,MAAM;AACrB,MAAI;AAAA;;AACF,UAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,kBAAWT,YAAX,kDAAW,cAAcU,OAAzB,CAArB;AACA,WAAOH,YAAP,aAAOA,YAAP,uBAAOA,YAAY,CAAEI,YAArB;AACD,GAHD,CAGE,OAAOC,KAAP,EAAc;AACd,QAAIA,KAAJ,EAAW,OAAO,EAAP;AACZ;AACF,CAPD;;AASAtB,KAAK,CAACuB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgDT,QAAQ,EAAxD;AAEA,OAAO,MAAMU,gBAAgB,GAAIC,IAAD,IAC9B3B,KAAK,CAAC;AACJ4B,EAAAA,MAAM,EAAE,MADJ;AAEJC,EAAAA,GAAG,EAAE5B,YAFD;AAGJuB,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GAHL;AAMJG,EAAAA,IAAI,EAAEA;AANF,CAAD,CADA;KAAMD,gB;AAUb,OAAO,MAAMI,aAAa,GAAIH,IAAD,IAC3B3B,KAAK,CAAC;AACJ4B,EAAAA,MAAM,EAAE,MADJ;AAEJC,EAAAA,GAAG,EAAE3B,SAFD;AAGJsB,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GAHL;AAMJG,EAAAA,IAAI,EAAEA;AANF,CAAD,CADA;MAAMG,a;AAUb,OAAO,MAAMC,eAAe,GAAIJ,IAAD,IAC7B3B,KAAK,CAAC;AACJ4B,EAAAA,MAAM,EAAE,MADJ;AAEJC,EAAAA,GAAG,EAAE1B,WAFD;AAGJqB,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT,GAHL;AAMJG,EAAAA,IAAI,EAAEA;AANF,CAAD,CADA;MAAMI,e","sourcesContent":["import axios from \"axios\";\nimport { REGISTER_API, LOGIN_API, PROFILE_API } from \"./config\";\n\naxios.interceptors.response.use(\n  (res) => res,\n  (err) => {\n    if (err.response) {\n      if (err.response.status === 401) {\n        localStorage.clear();\n        console.log(\"ggjkk\");\n        // window.location.href = \"login\";\n      }\n      return Promise.reject(err);\n    }\n  }\n);\n\nconst getToken = () => {\n  try {\n    const USER_SESSION = JSON.parse(localStorage?.session);\n    return USER_SESSION?.access_token;\n  } catch (error) {\n    if (error) return \"\";\n  }\n};\n\naxios.defaults.headers.common[\"x-auth-token\"] = getToken();\n\nexport const REGISTER_SERVICE = (data) =>\n  axios({\n    method: \"POST\",\n    url: REGISTER_API,\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    data: data,\n  });\n\nexport const LOGIN_SERVICE = (data) =>\n  axios({\n    method: \"POST\",\n    url: LOGIN_API,\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    data: data,\n  });\n\nexport const PROFILE_SERVICE = (data) =>\n  axios({\n    method: \"POST\",\n    url: PROFILE_API,\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    data: data,\n  });\n"]},"metadata":{},"sourceType":"module"}